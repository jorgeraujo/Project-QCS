<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_25) on Fri Mar 13 15:03:18 WET 2015 -->
<title>InsulinDoseCalculator</title>
<meta name="date" content="2015-03-13">
<link rel="stylesheet" type="text/css" href="../resources/stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="InsulinDoseCalculator";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../server/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?server/InsulinDoseCalculator.html" target="_top">Frames</a></li>
<li><a href="InsulinDoseCalculator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">server</div>
<h2 title="Interface InsulinDoseCalculator" class="title">Interface InsulinDoseCalculator</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <span class="strong">InsulinDoseCalculator</span></pre>
<div class="block">This interface describes a highly simplified insulin dose calculator.
 <p>
 Patients with type-2 diabetes need periodic insulin injections to help
 process blood sugar. It is critical to be able to provide enough insulin to
 metabolize the carbohydrates obtained from food, and even more critical to
 never inject higher doses that may cause hypoglycemia, potentially leading to
 coma and brain damage.
 <p>
 One of the fundamental goals is to maintain a target blood sugar level
 throughout the day, somewhere between 80 mg/dl and 120 mg/dl (constant for a
 given patient, as prescribed by the doctor). Patients regularly measure the
 blood glucose level and calculate the necessary insulin.
 <p>
 Classes implementing this interface should use floating point arithmetic
 internally for all calculations, with results rounded to the nearest integer.</div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Raul Barbosa, Henrique Madeira</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="InsulinDoseCalculator.html#backgroundInsulinDose(int)">backgroundInsulinDose</a></strong>(int&nbsp;bodyWeight)</code>
<div class="block">Calculates the total number of units of insulin needed between meals.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="InsulinDoseCalculator.html#mealtimeInsulinDose(int, int, int, int, int)">mealtimeInsulinDose</a></strong>(int&nbsp;carbohydrateAmount,
                   int&nbsp;carbohydrateToInsulinRatio,
                   int&nbsp;preMealBloodSugar,
                   int&nbsp;targetBloodSugar,
                   int&nbsp;personalSensitivity)</code>
<div class="block">Calculates the number of insulin units needed after one meal.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="InsulinDoseCalculator.html#personalSensitivityToInsulin(int, int[], int[])">personalSensitivityToInsulin</a></strong>(int&nbsp;physicalActivityLevel,
                            int[]&nbsp;physicalActivitySamples,
                            int[]&nbsp;bloodSugarDropSamples)</code>
<div class="block">Determines an individual's sensitivity to one unit of insulin.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="mealtimeInsulinDose(int, int, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mealtimeInsulinDose</h4>
<pre>int&nbsp;mealtimeInsulinDose(int&nbsp;carbohydrateAmount,
                      int&nbsp;carbohydrateToInsulinRatio,
                      int&nbsp;preMealBloodSugar,
                      int&nbsp;targetBloodSugar,
                      int&nbsp;personalSensitivity)</pre>
<div class="block">Calculates the number of insulin units needed after one meal.
 <p>
 This method takes the amount of carbohydrate in a given meal, and returns
 the number of units of insulin needed after that meal. The returned
 number of units of insulin equals the carbohydrate dose plus the high
 blood sugar dose, which are computed as follows.
 <p>
 The carbohydrate dose equals the total grams of carbohydrates in the meal
 divided by the amount of carbohydrate disposed by one unit of insulin,
 corrected by taking into account the personal sensitivity to insulin.
 This dose equals <code>carbohydrateAmount / carbohydrateToInsulinRatio /
 personalSensitivity x 50</code>.
 <p>
 The high blood sugar dose equals the difference between the pre-meal
 blood sugar level and the target blood sugar level, divided by the
 personal sensitivity to insulin. This equals <code>(preMealBloodSugar -
 targetBloodSugar) / personalSensitivity</code>. The personal sensitivity
 may be estimated using <code>personalSensitivityToInsulin()</code>.
 <p>
 In the special case when the target blood sugar level is greater than the
 pre-meal blood sugar level, the return value of this method is zero (no
 insulin).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>carbohydrateAmount</code> - amount of carbohydrate in the meal, in grams</dd><dd><code>carbohydrateToInsulinRatio</code> - carbohydrate grams disposed by one unit</dd><dd><code>preMealBloodSugar</code> - pre-meal measured blood sugar level, in mg/dl</dd><dd><code>targetBloodSugar</code> - prescribed target blood sugar level, in mg/dl</dd><dd><code>personalSensitivity</code> - personal sensitivity to insulin</dd>
<dt><span class="strong">Returns:</span></dt><dd>the mealtime units of insulin needed, or -1 in case of error</dd></dl>
</li>
</ul>
<a name="backgroundInsulinDose(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>backgroundInsulinDose</h4>
<pre>int&nbsp;backgroundInsulinDose(int&nbsp;bodyWeight)</pre>
<div class="block">Calculates the total number of units of insulin needed between meals.
 <p>
 The total insulin units required in one day equals <code>0.55 x body
 weight</code> in kilograms. This method returns 50% of that number, since
 the background need for insulin, between meals, is around half of the
 daily total.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bodyWeight</code> - the person's weight in kilograms</dd>
<dt><span class="strong">Returns:</span></dt><dd>the background units of insulin needed, or -1 in case of error</dd></dl>
</li>
</ul>
<a name="personalSensitivityToInsulin(int, int[], int[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>personalSensitivityToInsulin</h4>
<pre>int&nbsp;personalSensitivityToInsulin(int&nbsp;physicalActivityLevel,
                               int[]&nbsp;physicalActivitySamples,
                               int[]&nbsp;bloodSugarDropSamples)</pre>
<div class="block">Determines an individual's sensitivity to one unit of insulin.
 <p>
 One unit of insulin typically drops blood sugar by 50 mg/dl, but this
 value depends on each individual's sensitivity and daily physical
 activity. This method predicts the blood sugar drop (in mg/dl) that will
 result from one unit of insulin, for a given physical activity level.
 <p>
 To predict the blood sugar drop, this method accepts two arrays with
 K samples of (physical activity level, blood sugar drop). The two arrays
 must therefore have the same length. First, a simple linear regression
 (least squares method) is performed to compute alpha and beta. Then, the
 return value is <code>alpha + beta x physicalActivityLevel</code>.
 <p>
 The physical activity levels, including the ones in the array of samples,
 and the blood sugar drop values are non-negative integers. The return
 value of this method may be passed to <code>mealtimeInsulinDose()</code>
 as a parameter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>physicalActivityLevel</code> - most recent activity level (the predictor)</dd><dd><code>physicalActivitySamples</code> - K samples of past physical activity</dd><dd><code>bloodSugarDropSamples</code> - corresponding K samples of blood sugar drop</dd>
<dt><span class="strong">Returns:</span></dt><dd>the blood sugar drop in mg/dl, or -1 in case of error</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../server/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-all.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../index.html?server/InsulinDoseCalculator.html" target="_top">Frames</a></li>
<li><a href="InsulinDoseCalculator.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
